---
title: CS283 Lecture 01
date: 2020-11-21 15:47:27
tags: Robotics
categories:
    - Courses
    - Fall 2020
    - CS283
    - Lecture Notes
---

# Lecture 01 Introduction

## What is a Robot

Definition: A **machine** capable of performing complex tasks in the physical world, 
that is using sensors to perceive the environment and acts tele-operated or autonomous.

## Autonomous Mobile Robotics

Autonomous mobile robots move around the environment.
Therefore **ALL** of them: 
* They need to know **where** they **are**
  * Global Positioning System (GPS)
  * Guiding system
  * Model of the environment
* They need to know **where** their **goal** is
* They need to know **how** to get there
  * Different levels:
    * Control
    * Navigation
    * Planning

**Most important capability** (for autonomous mobile robots): 

**How to get from place A to place B?** (safely and efficiently)

## General Control Scheme for Mobile Robot Systems

![Control scheme for mobile robot systems](Lec01_1.jpg)

## Programming Review

### Process vs. Thread

* Process: Execution of one instance of a computer program
  * Each process has its own virtual memory
    * Contains only code and data from this program, the libraries and the OS
    * Other processes (programs) cannot access this memory (shared memory access is possible but complicated)
  * OS Scheduling
    * OS can give higher or lower priority to certain processes
    * Linux å‘½ä»¤ `top`ï¼Œå¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿå®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­å„ä¸ªè¿›ç¨‹çš„èµ„æºå ç”¨çŠ¶å†µï¼Œç±»ä¼¼äºWindowsçš„ä»»åŠ¡ç®¡ç†å™¨ã€‚

* Multi-Threading å¤šçº¿ç¨‹
  * In one process, multiple threads => parallel execution
  * ğŸ™‚ Code and Memory is shared => easy exchange of data, save memory
  * ğŸ˜ Synchronization can be tricky (mutex, dead lock, race condition)
  * ğŸ™ If one thread crashes, the whole process (all threads) die

æ€»ç»“ï¼šè¿›ç¨‹å°±æ˜¯æ¯ä¸ªæ‰§è¡Œçš„ç¨‹åºï¼Œè€Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚è¿™å¤šä¸ªçº¿ç¨‹äº’ç›¸åˆ†äº«æ•°æ®å’Œå†…å­˜ï¼Œéœ€è¦è€ƒè™‘å®ƒä»¬ä¹‹é—´åŒæ­¥çš„é—®é¢˜ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªçº¿ç¨‹å´©æºƒï¼Œé‚£ä¹ˆæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šç»“æŸã€‚

### Processes and Threads in Robotics 

#### Robot Operating System (ROS): Multiple Processes

* Each **component** runs in its own **process**: called <u>**node**</u>
* A <u>**node**</u> can have multiple threads => faster computation
* <u>**Nodes**</u> communicate using <u>**messages**</u> (and <u>**services**</u>)
* A <u>**node**</u> can send ( <u>**publish**</u> ) <u>**messages**</u> under different names called <u>**topic**</u>
* A <u>**node**</u> can listen to ( <u>**subscribe**</u> ) <u>**messages**</u> under different <u>**topics**</u>

#### ROS Messages
* <u>**Messages**</u> are transfered over the network (TCP/IP) => multiple computers work together transparently
* ğŸ™ <u>**Messages**</u> are serialized, copied and de-serialized even if both nodes are on the same computer => **slow** (compared to pointer passing)
  * Optimization: <u>**Nodelet**</u> (run different nodes in the SAME process => pointer passing => fast)
* <u>**Messages**</u> are often passed around as <u>**shared pointers**</u> which are 
  * "write protected" using the `const` keyword (cannot be changed)
  * The shared pointers take the message type as template argument
  * Shared pointers can be accessed like normal pointers

* Create own message: Text format

#### ROS nodes
* <u>**ROS core**</u>: keep track which <u>**nodes**</u> are running and their <u>**topics**</u>
* Show all <u>**nodes**</u> and <u>**topics**</u> in a graph: `rosrun rqt_graph rqt_graph`

#### ROS Services

### C++ Programming

* C++ Object Orientation
  * [C++ é¢å‘å¯¹è±¡](https://www.runoob.com/cplusplus/cpp-classes-objects.html)

* C++ Constant Variables å¸¸é‡
  * Declare variables or objects that do not change (anymore) in the code: `const`
  * Used for **program-correctness**, especially for **multi-threading**:
    * Share the data (e.g. images)
    * Make it read only via `const`

* C++ Templates
  * [C++ æ¨¡æ¿](https://www.runoob.com/cplusplus/cpp-templates.html)

* C++ Shared Pointer
  * [C++ Shared Pointer](https://en.cppreference.com/w/cpp/memory/shared_ptr)
  * [C++ ä¸­çš„æ™ºèƒ½æŒ‡é’ˆï¼šshared_ptr çš„ä»‹ç»å’Œç”¨æ³•](https://blog.csdn.net/thinkerleo1997/article/details/78754919)

### Compiler, Linker

* Standard in Linux: gcc: **G**NU **C**ompiler **C**ollection
* **Compiler**: Create machine code out of programming language
* **Linker**: Link the machine code with other machine code (provided by libraries)

